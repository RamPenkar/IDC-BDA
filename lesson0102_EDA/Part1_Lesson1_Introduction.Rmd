---
output:
  html_notebook: default
  html_document: default
---
<b>
Business Data Analytics and Prediction</br>
Dr. Gilli Shama </br>
<font size=6>Lesson 1.1 Introduction </font></br>
 </b>
 
In this lesson we will read the HR data and view it, see its summary to understand the columns and to learn what characterises those who left the company, and check that there are no missing values.
 
<b> </br> <font size=3>Read the data </font></br> </b> 

The business analytics concepts and code will be demonstrated on HR data of employees attrition, evaluation and satisfaction: https://www.kaggle.com/ludobenistant/hr-analytics  
</br>
Download the csv file from the link above, to your local folder, and then read it to a data frame, as below.


```{r}
df <- read.csv('C:/Users/gillis/Documents/_Personal/IDC/Business_Data_Analytics/human-resources-analytics/HR_comma_sep.csv') # Change this path to your downloaded file
```

After reading the file you can view it in R Studio, by clicking on the df in the Environment section, or with the view function. 
</br>
You can observe the type of each column, by clicking on the arrow next to df df in the Environment section, or with the str function.
```{r}
str(df)
```

<b> </br> <font size=3>Summary statistics of data </font></br> </b> 

To get basic statistics of the data use the summary function.

```{r}
summary(df)
```
We can see that "left" column is an integer with values of either 0 or 1, where 24% of the employees are 1, that is left the company.
Promotion and Work Accident variables are also 0 or 1. Only 2% recived a promotion in last 5 years. Work accident happened to 14% of the emloyees. 

<b> </br> <font size=3>Summary statistics for those who left the company </font></br> </b> 
Now lets look on the same statistics only for those who left the company.
```{r}
left_df <- df[df$left==1,]
summary(left_df)
```

Of those who left the company less than 1% had a promotion in last 5 years vs 2% in entire population, and only 5% had a work accident vs 14% in entire population. Those who left the company had a much lower average satisfaction from the company than the entire population, but the same average evaluation score.

Another view is to look on the attrition percentage (mean of left) by other factors in the data.
```{r}
tapply(df$left,df$salary,mean)
tapply(df$left,df$sales,mean)
```

It is clear from this statistics that salary raise impacts very much on attrition, and that managers and RnD have lowest attrition rates, whereas HR have the highest attrition.

<b> </br> <font size=3>Missing values </font></br> </b> 


The summary function also displays missing values. In this dataframe there are no missing values. Another way to check if there are missing values:
```{r}
colSums(is.na(df))
```

